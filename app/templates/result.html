<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='static.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='output.css') }}">
</head>
<body>
     <div class="navbar">
        <img src="https://ik.imagekit.io/6cga8hi9z/Bureau%20Graphics/image-removebg-preview%20(20).png" alt="Company Logo">
        <div>

        </div>
        <form method="get" onsubmit="setAction(this)">
            <label for="num-copies">Number of Copies:</label>
            <select name="num_copies" id="num-copies" required>
                <option value="4">4 Images on A4</option>
                <option value="8">8 Images on A4</option>
            </select>
            <input type="hidden" name="filename" value="{{ filename }}">
            <button type="submit">Download Print Image</button>
        </form>
    </div>

    <div class="sidebar">
        <a href="/">Upload</a>
        <a href="/settings">Settings</a>

    </div>

    <div class="content">
        <div class="image-preview">
            <h4>Cropped Image</h4>
            <img class="croppedImage" src="{{ url_for('download_file', filename=filename) }}" alt="Cropped Image">
        </div>

        <div class="image-preview">
            <h4>Printable Image Preview</h4>
            <img src="{{ url_for('print_image', filename=filename, num_copies=4) }}" alt="Printable Image Preview">

        </div>




    </div>

    <script>
        function setAction(form) {
            const numCopies = form.num_copies.value;
            const filename = form.filename.value;

            // Constructing the action URL dynamically
            form.action = `/print/${filename}/${numCopies}`;
        }
    </script>
</body>
</html>
